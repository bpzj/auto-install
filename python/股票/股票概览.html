<!DOCTYPE html>
<meta charset="utf8"/>
<html lang="">
<body>
<label class="button">Load an SQLite database file: <input type="file" id="dbfile"></label>
<button class="button" id="test">Load an SQLite database file: ></button>
<script src='./dist/sql-wasm.js' type="text/javascript"></script>
<script>
    var db;
    var dbFileElm = document.getElementById('dbfile');
    dbFileElm.onchange = () => {
        var f = dbFileElm.files[0];
        var r = new FileReader();
        r.onload = function () {
            var Uints = new Uint8Array(r.result);
            db = new SQL.Database(Uints);
        }
        r.readAsArrayBuffer(f);
    }
    var btn = document.getElementById('test');
    btn.click = () => {
        const stmt = db.prepare("SELECT `name`, `sql` FROM `sqlite_master` WHERE type='table'");
        stmt.getAsObject({$start: 1, $end: 1}); // {col1:1, col2:111}

        // Bind new values
        stmt.bind({$start: 1, $end: 2});
        while (stmt.step()) { //
            var row = stmt.getAsObject();
            console.log('Here is a row: ' + JSON.stringify(row));
        }
    }

    config = {
        locateFile: filename => `./dist/${filename}`
    }
    // The `initSqlJs` function is globally provided by all of the main dist files if loaded in the browser.
    // We must specify this locateFile function if we are loading a wasm file from anywhere other than the current html page's folder.
    initSqlJs(config).then(function(SQL){
        //Create the database
        const db = new SQL.Database();
        // Run a query without reading the results
        db.run("CREATE TABLE test (col1, col2);");
        // Insert two rows: (1,111) and (2,222)
        db.run("INSERT INTO test VALUES (?,?), (?,?)", [1,111,2,222]);

        // Prepare a statement
        const stmt = db.prepare("SELECT * FROM test WHERE col1 BETWEEN $start AND $end");
        stmt.getAsObject({$start:1, $end:1}); // {col1:1, col2:111}

        // Bind new values
        stmt.bind({$start:1, $end:2});
        while(stmt.step()) { //
            var row = stmt.getAsObject();
            console.log('Here is a row: ' + JSON.stringify(row));
        }
    });
</script>

Output is in Javascript console
</body>
</html>
